# muscle::SimulatedMulticastDataIO class [(API)](https://public.msli.com/lcs/muscle/html/classmuscle_1_1SimulatedMulticastDataIO.html)

```#include "dataio/SimulatedMulticastDataIO.h"```

[SimulatedMulticastDataIO](https://public.msli.com/lcs/muscle/html/classmuscle_1_1SimulatedMulticastDataIO.html) works similarly to [UDPSocketDataIO](https://public.msli.com/lcs/muscle/html/classmuscle_1_1UDPSocketDataIO.html), but it is written specifically to simulate multicast-UDP traffic over Wi-Fi using directed unicast.

* Transmitting any non-trivial amount of real multicast traffic over Wi-Fi is problematic, because Wi-Fi's multicast support sucks (it's really slow, lossy, and inefficient)
* [SimulatedMulticastDataIO](https://public.msli.com/lcs/muscle/html/classmuscle_1_1SimulatedMulticastDataIO.html) simulates multicast transmission by automatically maintaining a list of which other [SimulatedMulticastDataIO](https://public.msli.com/lcs/muscle/html/classmuscle_1_1SimulatedMulticastDataIO.html)-based clients are on the LAN (and using the same multicast address).
* When a client wants to "multicast" a packet, [SimulatedMulticastDataIO::Write()](https://public.msli.com/lcs/muscle/html/classmuscle_1_1SimulatedMulticastDataIO.html#a0672add49f6c0f410c361f66a9b00ced) instead sends packet separately to each group-member, via unicast UDP.
* To the calling code, this all looks the same as real multicast, but works better over Wi-Fi (it will generally be less efficient than actual multicast on a wired network though).
* See also [NetworkInterfaceInfo::GetHardwareType()](https://public.msli.com/lcs/muscle/html/classmuscle_1_1NetworkInterfaceInfo.html#a0808749c5025b94d54a6cfacdde19c9b) (and in particular, when that method returns [NETWORK_INTERFACE_HARDWARE_TYPE_WIFI](https://public.msli.com/lcs/muscle/html/namespacemuscle.html#afa231099d07583c3ed0981e0bb665f55ac2d118d070e021ddc0d8ed43fda53971) you might want to use this class instead of [UDPSocketDataIO](https://public.msli.com/lcs/muscle/html/classmuscle_1_1UDPSocketDataIO.html) for your multicast traffic over that interface)
* Note that [SimulatedMulticastDataIO](https://public.msli.com/lcs/muscle/html/classmuscle_1_1SimulatedMulticastDataIO.html) uses its own proprietary discovery/enumeration protocol, so in general it is only useful for communicating with other programs that are also using a [SimulatedMulticastDataIO](https://public.msli.com/lcs/muscle/html/classmuscle_1_1SimulatedMulticastDataIO.html) object.  In particular, it won't interact properly with third-party multicast-clients that don't know about its discovery-protocol.

Try compiling and running the mini-example-programs in `muscle/html/muscle-by-example/examples/dataio` (enter `make` to compile example_*, and then run each from Terminal while looking at the corresponding .cpp file)
